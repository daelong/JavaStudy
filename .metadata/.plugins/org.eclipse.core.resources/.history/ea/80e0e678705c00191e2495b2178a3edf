import java.util.*;

public class NumeralSystem {

	public static void main(String[] args) {
		int n, x, m, y, k;
		int remainder = 0; //나머지
		int i = 1; //10진수에서 n진수로 바꿔주기 위한 장치(한자리수씩 올려주어야하기때문에)
		int sum = 0; //x+y
		int quotient = 0; // 몫
		int result =0; // 최종 결과
		String character = "0123456789abcdef"; //11진수부터 16진수를 위한 문자
		char [] cha = new char [10]; //a~f를 나타내기 위한 배열
		int j = 0; //배열 증가를 위한 수
		
		Scanner scanner = new Scanner(System.in);
		
		System.out.println("n을 입력하시오 : ");
		n = scanner.nextInt();
		System.out.println("x를 입력하시오 : ");
		x = scanner.nextInt(n);
		System.out.println("m을 입력하시오 : ");
		m = scanner.nextInt();
		System.out.println("y를 입력하시오 : ");
		y = scanner.nextInt(m);
		System.out.println("k를 입력하시오 : ");
		k = scanner.nextInt();
		if(n<17 && n>1 && m<17 && m>1 && k<17 && k>1 ) {
			sum = x+y;
			while(sum>=k){
				quotient = sum/k; //몫을 구하기 위한 연산
				remainder = sum%k; //나머지를 구하기 위한 연산
				if( k < 17 && k > 9) { //k가 11~16진수일때
					if(remainder>9 && remainder<k) { //나머지가 a-f로 나올경우
						while(quotient>=10) { //10부터가 알파벳으로 표현되니까
							cha[j] = character.charAt(remainder); // 각 배열에 저장
							j++; //추가 배열생성을 위한 연산
							sum = quotient; // 몫을 다시 나누어주기위해
							break; //이번 반복문 종료
						}
						if(quotient>=k) { //몫이 k보다 ㅋ면
							continue;
						}
					}else{
						i = i*10; // i = 10, i = 100
						remainder = remainder * i;
						result = result + remainder; //result = 7 , 67
						sum = quotient;
						if(sum>k) {
							continue;
						}
						else break;
					}
					
				}
				else{
					sum = remainder;
					remainder = sum*i; // 7*i = 1, 6*10 = 60
					i = i*10; // i = 10, i = 100
					result = result + remainder; //result = 7 , 67
					sum = quotient; // remainder = 15 , 1 = sum
				}
			}
			if( k < 17 && k > 9) {
				if(quotient>9 && quotient<k) {
					cha[j] = character.charAt(quotient); 
					System.out.print("x + y : ");
					for(i = j; i >= 0; i--) {
						System.out.print(cha[i]);
					}
					if(remainder<10) System.out.println(remainder);
				}
				else{
					quotient = quotient*i; // 1 * 100
					result = result + quotient; // 67 + 100
					System.out.println("x + y : " +result); // 167
				}
			}
			else{
				quotient = quotient*i; // 1 * 100
				result = result + quotient; // 67 + 100
				System.out.println("x + y : " +result); // 167
			}
		}
		else {
			System.out.println("진수를 잘못 선택하였습니다.");
		}
	}
}